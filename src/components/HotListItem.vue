<template>
  <div class="hot-list">
    <template v-if="list && list.length > 0">
      <div v-for="(item, index) in list" :key="index" class="hot-list-item" @click="handleClick(item)">
        <div class="rank" :class="{ 'top-three': index < 3 }">{{ index + 1 }}</div>
        <div class="content">
          <div class="title-wrapper">
            <div class="title">{{ item.title }}</div>
          </div>
        </div>
      </div>
    </template>
    <template v-else>
      <div class="hot-list-empty">
        <span class="hot-list-empty-icon">
          <svg t="1747884094021" class="icon" viewBox="0 0 1670 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8154" width="64" height="64"><path d="M249.57302 115.563909a16.572629 16.572629 0 0 0 16.639998 16.505261 16.572629 16.572629 0 0 0 16.639997-16.505261v-33.010522h33.279996A16.572629 16.572629 0 0 0 332.773009 66.021179a16.572629 16.572629 0 0 0-16.639998-16.505261h-33.279996v-33.010522A16.572629 16.572629 0 0 0 266.213018 0.000135a16.572629 16.572629 0 0 0-16.639998 16.505261v33.010522h-33.279996a16.572629 16.572629 0 0 0-16.626524 16.518734 16.572629 16.572629 0 0 0 16.626524 16.505261h33.279996v33.010522zM133.119982 352.363878c0-36.459785-29.790312-66.021044-66.559991-66.021044-36.756206 0-66.546518 29.561259-66.546517 66.021044 0 36.473258 29.790312 66.034518 66.559991 66.034517 36.756206 0 66.546518-29.561259 66.546517-66.021043z m-99.839986 0a33.145259 33.145259 0 0 1 33.279995-33.010522 33.145259 33.145259 0 0 1 33.279996 33.010522 33.145259 33.145259 0 0 1-33.279996 33.010522 33.145259 33.145259 0 0 1-33.279995-33.010522z m144.262717 616.501813H44.422731a22.123787 22.123787 0 0 0-22.123787 22.042945 22.042944 22.042944 0 0 0 22.123787 21.867787h133.119982a22.096839 22.096839 0 0 0 20.803366-23.349892 22.123787 22.123787 0 0 0-20.816839-20.641682v0.080842z m11.237052-231.114074h-22.379787v-22.204629a10.859788 10.859788 0 0 0-11.156209-10.819367 11.021472 11.021472 0 0 0-11.061893 10.819367v22.204629H121.802089a10.859788 10.859788 0 0 0-10.913683 10.981051c0 5.995789 4.850526 10.886735 10.913683 10.967577h22.366313v22.366313a10.859788 10.859788 0 0 0 11.061893 10.644209 11.021472 11.021472 0 0 0 11.156209-11.048419v-22.204629h22.366313c6.022736 0 10.913683-4.837052 10.913683-10.805893v-0.175158a11.021472 11.021472 0 0 0-10.913683-10.725051z m1252.863835-583.477818c-36.756206 0-66.559991 29.561259-66.559991 66.021044 0 36.473258 29.803786 66.034518 66.559991 66.034517s66.559991-29.561259 66.559991-66.021044c0-36.473258-29.803786-66.034518-66.559991-66.034517z m0 99.031566a33.145259 33.145259 0 0 1-33.279996-33.010522 33.145259 33.145259 0 0 1 33.279996-33.010522 33.145259 33.145259 0 0 1 33.279995 33.010522 33.145259 33.145259 0 0 1-33.279995 33.010522z m210.970919 396.126263h-22.042944v-22.204628a10.859788 10.859788 0 0 0-10.900209-10.805894h-0.080842a11.021472 11.021472 0 0 0-11.061894 10.805894V649.431628h-22.379786a10.859788 10.859788 0 0 0-10.900209 10.900209 11.007999 11.007999 0 0 0 10.320841 11.385262h22.366312v22.204629a10.859788 10.859788 0 0 0 11.075367 10.805893 11.034946 11.034946 0 0 0 11.56042-11.04842v-21.962102h22.379786a10.859788 10.859788 0 0 0 10.90021-11.317893 11.021472 11.021472 0 0 0-11.237052-10.967578zM1330.148878 858.758759H1183.231844v-697.397803c0.094316-45.756626-37.0661-82.997884-83.186515-83.361674h-535.848351c-46.106941 0.363789-83.267357 37.605048-83.186515 83.361674v763.014636a83.698515 83.698515 0 0 0 12.234104 44.490099H251.984809c-4.405894 0-8.313262 9.822314-8.313262 22.042945 0 12.126314 3.570526 21.867787 8.313262 21.867787h305.394486c1.670737 0 3.166315-1.401263 4.419368-3.718737h535.834877c46.982731-0.134737 84.978515-37.995784 84.938094-84.601252v-21.62526h146.917033a22.096839 22.096839 0 0 0 20.803366-23.349892 22.123787 22.123787 0 0 0-20.803366-20.641681l0.673684-0.080842z m-187.688397 66.021044c0.107789 24.252628-19.631155 43.991573-44.085889 44.085888H565.706031c-24.468207-0.134737-44.220626-19.887155-44.180205-44.166731V318.612303l47.171362-28.968417 67.13936 18.890103 49.90652-27.311154 79.036621-2.236632 125.372615-52.331782-140.678718 26.408417-51.994941-21.288418-63.056834 27.243786-53.409677-23.52505-59.647992 11.96463v-86.09683c0-23.498102 19.159576-42.576837 42.84631-42.671153h535.417193c23.713681 0.053895 42.886731 19.159576 42.84631 42.671153v763.43232z m-499.725408-386.290476a16.734314 16.734314 0 0 0 23.039997 0l34.277048-33.994101 34.277049 34.007575a16.303156 16.303156 0 0 0 22.90526 1.522526 16.006735 16.006735 0 0 0-0.188632-24.387365l-34.021048-33.765049 34.021048-34.2501c6.332631-6.29221 6.332631-16.491787 0-22.783997a16.330103 16.330103 0 0 0-22.959155 0l-34.277048 34.007574-34.277048-33.926732a16.330103 16.330103 0 0 0-22.959155 0 16.020208 16.020208 0 0 0 0 22.770523l34.519575 34.182732-34.277049 34.007575a16.410945 16.410945 0 0 0-0.080842 22.622313z m343.996587-56.616414l34.277048-34.007574a16.006735 16.006735 0 0 0 1.212631-22.730102 16.303156 16.303156 0 0 0-23.915786-0.215579l-34.277048 34.007574-34.277048-34.007574a16.303156 16.303156 0 0 0-22.918734-1.050947 16.006735 16.006735 0 0 0-0.040421 23.754102l34.021048 34.2501-34.021048 33.765049a16.410945 16.410945 0 0 0 0 22.945681 16.734314 16.734314 0 0 0 23.039997 0l34.277048-34.007575 34.196206 33.751575c6.332631 6.29221 16.61305 6.29221 22.959155 0 6.332631-6.29221 6.332631-16.491787 0-22.770523l-34.533048-33.684207z m-154.812612 175.723767a245.396178 245.396178 0 0 0-184.858923 83.873673 22.581892 22.581892 0 0 0 2.330947 32.013469c9.566315 8.218946 24.010102 7.181473 32.282944-2.303999 71.814727-82.351147 197.335553-91.351567 280.333436-20.075787 7.221894 6.197894 13.985682 12.907788 20.237471 20.075787 8.272841 9.485472 22.716629 10.509472 32.282944 2.303999 9.552841-8.205473 10.590314-22.541471 2.330947-32.013469a245.396178 245.396178 0 0 0-184.939766-83.873673z" fill="#A6AFBC" p-id="8155"></path></svg>
        </span>
        <span class="hot-list-empty-text">数据加载失败了~</span>
      </div>
    </template>
  </div>
</template>

<script setup>
const props = defineProps({
  list: {
    type: Array,
    default: () => []
  },
  platform: {
    type: String,
    required: true
  },
  isMobile: {
    type: Boolean,
    default: false
  }
})

const getItemUrl = (item) => {
  if (!item) return '#'
  return props.isMobile ? (item.mobileUrl || item.url) : (item.url || item.mobileUrl)
}

const handleClick = (item) => {
  if (getItemUrl(item)) {
    window.open(getItemUrl(item), '_blank')
  }
}
</script>

<style scoped>
:root {
  --list-item-bg: #fff;
  --list-item-hover-bg: #f5f7fa;
  --rank-bg: #ff6b6b;
  --rank-bg-normal: #f5f7fa;
  --rank-color-normal: #909399;
  --title-color: #2c3e50;
  --hot-list-empty-color: #222;
}
.dark-mode {
  --list-item-bg: #282c34;
  --list-item-hover-bg: #23272e;
  --rank-bg: #ff6b6b;
  --rank-bg-normal: #23272e;
  --rank-color-normal: #b0b3b8;
  --title-color: #f5f5f7;
  --hot-list-empty-color: #fff;
}

.hot-list {
  padding: 8px;
}

.hot-list-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  margin-bottom: 4px;
  background: var(--list-item-bg);
}

.hot-list-item:hover {
  background: var(--list-item-hover-bg);
  transform: translateX(2px);
}

.rank {
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 700;
  color: #fff;
  flex-shrink: 0;
  background: #ff6b6b;
}

.rank:not(.top-three) {
  background: #f5f7fa;
  color: #909399;
}

.top-three {
  background: #ff6b6b !important;
  color: #fff !important;
}

.content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.title-wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  margin: 0;
}

.title {
  font-size: 14px;
  color: var(--title-color);
  margin: 0;
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  word-break: break-all;
}

@media (max-width: 900px) {
  .hot-list-item {
    padding: 8px 10px;
  }

  .rank {
    width: 20px;
    height: 20px;
    line-height: 20px;
    font-size: 12px;
  }

  .title {
    font-size: 13px;
  }
}

.hot-list-empty {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--hot-list-empty-color, #222);
  font-size: 20px;
  padding: 0;
  letter-spacing: 1px;
  height: 100%;
  min-height: 320px;
}
.hot-list-empty-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 16px;
}
.hot-list-empty-text {
  color: #222;
  font-size: 20px;
  font-weight: 500;
  letter-spacing: 2px;
}
.dark-mode .hot-list-empty-text {
  color: #fff !important;
}
</style> 